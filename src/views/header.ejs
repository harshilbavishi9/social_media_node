<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/css/header.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
    />
  </head>

  <body>
    <div class="sidebar">
      <a href="#" class="logo">
        <span>Social</span>
        <p class="space">Media</p>
      </a>
      <ul class="side-menu">
        <li class="active">
          <a href="#"><i class="bx bi-house"></i>Home</a>
        </li>
        <li>
          <a href="#"><i class="bx bi-send"></i>DM</a>
        </li>
        <li>
          <a href="#"><i class="bx bi-heart"></i>Like</a>
        </li>
        <li>
          <a href="/api/user/profile"><i class="bx bi-person"></i>Profile</a>
        </li>

        <li>
          <a href="#"><i class="bx bi-gear"></i>Settings</a>
        </li>
      </ul>

      <div class="side-menu">
        <ul>
          <li>
            <a href="#" class="logout"
              ><i class="bx bx-log-out-circle"></i>Logout</a
            >
          </li>
        </ul>
      </div>
    </div>
    <div class="content">
      <nav>
        <i class="bx bx-menu"></i>
        <form action="#">
          <div class="form-input">
            <input type="search" placeholder="Search" />
            <button type="submit">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </form>
        <a href="#" class="notification">
          <i class="bx bx-bell"></i>
          <span>12</span>
        </a>

        <a href="#" class="profile">
          <img src="<%= locals.user.image %>" alt="" />
        </a>
      </nav>
    </div>
    <script>
      // links
      const sideLInksEl = document.querySelectorAll(
        ".sidebar .side-menu li a:not(.logout)"
      );

      sideLInksEl.forEach((links) => {
        const li = links.parentElement;
        links.addEventListener("click", () => {
          sideLInksEl.forEach((i) => {
            i.parentElement.classList.remove("active");
          });
          li.classList.add("active");
        });
      });

      // sidebar
      const menuBar = document.querySelector(".content nav .bx.bx-menu");
      const sideBarEl = document.querySelector(".sidebar");
      const searchbtn = document.querySelector(
        ".content nav form .form-input button"
      );
      const searchIcon = document.querySelector(
        ".content nav form .form-input button .bx"
      );
      const searchForm = document.querySelector(".content nav form");

      menuBar.addEventListener("click", () => {
        sideBarEl.classList.toggle("close");
      });

      searchbtn.addEventListener("click", function (e) {
        if (window.innerWidth < 576) {
          e.preventDefault();

          searchForm.classList.toggle("show");

          if (searchForm.classList.contains("show")) {
            searchIcon.classList.replace("bx-search", "bx-x");
          } else {
            searchIcon.classList.replace("bx-x", "bx-search");
          }
        }
      });
      // resize
      window.addEventListener("resize", () => {
        if (window.innerWidth < 768) {
          sideBarEl.classList.add("close");
        } else {
          sideBarEl.classList.remove("close");
        }
      });
    </script>
  </body>
</html>
